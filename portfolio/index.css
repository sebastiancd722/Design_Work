
/* Base HTML/Body Styles */
html {
    scroll-behavior: smooth;
}
body {
    transition: background-color 0.5s cubic-bezier(0.4, 0, 0.2, 1), color 0.5s cubic-bezier(0.4, 0, 0.2, 1);
    overflow-x: hidden;
}

/* Custom scrollbar */
::-webkit-scrollbar {
    width: 10px;
}
::-webkit-scrollbar-track {
    background: transparent;
}
.dark ::-webkit-scrollbar-track {
    background: #020617;
}
::-webkit-scrollbar-thumb {
    background: #e2e8f0;
    border: 3px solid transparent;
    background-clip: content-box;
    border-radius: 10px;
}
.dark ::-webkit-scrollbar-thumb {
    background: #1e293b;
    border: 3px solid transparent;
    background-clip: content-box;
}
::-webkit-scrollbar-thumb:hover {
    background: #cbd5e1;
    background-clip: content-box;
}
.dark ::-webkit-scrollbar-thumb:hover {
    background: #334155;
    background-clip: content-box;
}

/* Reduced Motion */
@media (prefers-reduced-motion: reduce) {
  .flip-inner { transition: none; }
  html { scroll-behavior: auto; }
}

/* --- FLIP LOGIC --- */
.flip-container {
  perspective: 1000px;
}
.flip-inner {
  position: relative;
  width: 100%;
  height: 100%;
  transition: transform 0.8s cubic-bezier(0.175, 0.885, 0.32, 1.275);
  transform-style: preserve-3d;
}
/* Desktop Hover Effect */
@media (hover: hover) {
  .flip-container:hover .flip-inner {
    transform: rotateY(180deg);
  }
}
/* Mobile/Click Effect */
.flip-inner.is-flipped {
  transform: rotateY(180deg);
}
.flip-front, .flip-back {
  position: absolute;
  width: 100%;
  height: 100%;
  -webkit-backface-visibility: hidden;
  backface-visibility: hidden;
  border-radius: inherit;
}
.flip-back {
  transform: rotateY(180deg);
}

/* --- GLOBAL UTILS --- */
.backface-hidden { backface-visibility: hidden; }

/* --- ANIMATIONS --- */
@keyframes sheen { 0% { background-position: 200% 0; } 100% { background-position: -200% 0; } }
@keyframes spin-slow { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }
@keyframes foil-shift { 0% { background-position: 0% 0%; } 50% { background-position: 100% 100%; } 100% { background-position: 0% 0%; } }
@keyframes glitch-anim { 0% { clip: rect(10px, 9999px, 30px, 0); } 100% { clip: rect(70px, 9999px, 20px, 0); } }
@keyframes glitch-anim2 { 0% { clip: rect(30px, 9999px, 10px, 0); } 100% { clip: rect(20px, 9999px, 70px, 0); } }
@keyframes gloss-sheen { 0% { background-position: 250% 0; } 100% { background-position: -150% 0; } }
@keyframes terrain-scroll { from { background-position: 0 0; } to { background-position: 0 40px; } }
@keyframes equalize {
    0%, 100% { height: 4px; }
    50% { height: 16px; }
}
@keyframes subtle-drift {
    0% { transform: scale(1.05); }
    50% { transform: scale(1.1); }
    100% { transform: scale(1.05); }
}
@keyframes shine {
  100% { left: 200%; }
}

.animate-drift { animation: subtle-drift 10s infinite ease-in-out; }
.animate-spin-slow { animation: spin-slow 10s linear infinite; }

/* --- SHEENS & FOILS --- */
.prism-sheen { background: linear-gradient(115deg, transparent 20%, rgba(168, 85, 247, 0.4) 40%, rgba(255, 255, 255, 0.6) 50%, rgba(34, 197, 94, 0.4) 60%, transparent 80%); background-size: 200% 100%; animation: sheen 3s infinite linear; mix-blend-mode: color-dodge; }
.sun-sheen { background: linear-gradient(115deg, transparent 20%, rgba(255, 215, 0, 0.1) 40%, rgba(255, 255, 255, 0.5) 50%, rgba(255, 215, 0, 0.1) 60%, transparent 80%); background-size: 200% 100%; animation: sheen 4s infinite linear; mix-blend-mode: overlay; }
.cosmic-foil { position: absolute; inset: 0; z-index: 20; pointer-events: none; background: linear-gradient(135deg, transparent 25%, rgba(255, 0, 255, 0.2) 40%, rgba(0, 255, 255, 0.2) 50%, rgba(0, 255, 255, 0.2) 60%, transparent 75%); background-size: 200% 200%; mix-blend-mode: color-dodge; opacity: 0; transition: opacity 0.5s ease; }
.group:hover .cosmic-foil { opacity: 1; animation: foil-shift 3s infinite linear; }
.holo-sheen { background: linear-gradient(115deg, transparent 20%, rgba(6, 182, 212, 0.1) 40%, rgba(255, 255, 255, 0.4) 50%, rgba(6, 182, 212, 0.1) 60%, transparent 80%); background-size: 200% 100%; animation: sheen 3s infinite linear; }
.holo-foil { position: absolute; inset: 0; z-index: 20; pointer-events: none; background: linear-gradient(115deg, transparent 20%, rgba(245, 158, 11, 0.1) 40%, rgba(255, 255, 255, 0.4) 50%, rgba(245, 158, 11, 0.1) 60%, transparent 80%); background-size: 200% 100%; opacity: 0; transition: opacity 0.5s ease; mix-blend-mode: overlay; }
.group:hover .holo-foil { animation: sheen 3s infinite linear; opacity: 1; }
.gloss-sheen { background: linear-gradient(125deg, transparent 30%, rgba(255, 255, 255, 0.4) 45%, rgba(255, 255, 255, 0.7) 50%, rgba(255, 255, 255, 0.4) 55%, transparent 70%); background-size: 250% 100%; animation: gloss-sheen 5s infinite cubic-bezier(0.4, 0, 0.2, 1); }

/* --- TEXTURES --- */
.sparkle-bg { background-image: url('https://www.transparenttextures.com/patterns/diagmonds-light.png'); background-size: auto; }
.paper-texture { background-image: url('https://www.transparenttextures.com/patterns/cream-paper.png'); }
.grass-texture { background-image: url('https://www.transparenttextures.com/patterns/grass.png'); }
.noise-texture { background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.8' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)' opacity='0.07'/%3E%3C/svg%3E"); }
.noise-overlay { background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)' opacity='0.05'/%3E%3C/svg%3E"); pointer-events: none; }
.security-pattern { background-image: radial-gradient(#333 15%, transparent 16%), radial-gradient(#333 15%, transparent 16%); background-size: 10px 10px; background-position: 0 0, 5px 5px; }
.card-texture { background-image: url("data:image/svg+xml,%3Csvg width='6' height='6' viewBox='0 0 6 6' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='%23000000' fill-opacity='0.05' fill-rule='evenodd'%3E%3Cpath d='M5 0h1L0 6V5zM6 5v1H5z'/%3E%3C/g%3E%3C/svg%3E"); }
.scanlines { background: linear-gradient(to bottom, rgba(255,255,255,0), rgba(255,255,255,0) 50%, rgba(0,0,0,0.1) 50%, rgba(0,0,0,0.1)); background-size: 100% 4px; }
.tech-grid { background-image: linear-gradient(rgba(6, 182, 212, 0.05) 1px, transparent 1px), linear-gradient(90deg, rgba(6, 182, 212, 0.05) 1px, transparent 1px); background-size: 30px 30px; }
.grain-texture { background-image: url('https://www.transparenttextures.com/patterns/stardust.png'); }
.noise-static { background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)' opacity='0.08'/%3E%3C/svg%3E"); }
.bg-noise { background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E"); }

/* Street Card Textures & Utils */
.concrete-texture { background-image: url('https://www.transparenttextures.com/patterns/concrete-wall.png'); }
.felt-texture { background-image: url('https://www.transparenttextures.com/patterns/black-felt.png'); }
.halftone { background-image: radial-gradient(rgba(0,0,0,0.8) 1.5px, transparent 1.5px); background-size: 6px 6px; mix-blend-mode: overlay; }
.street-vignette { background: radial-gradient(circle at center, transparent 30%, rgba(0,0,0,0.8) 100%); }
.torn-paper { clip-path: polygon(0 0, 100% 2%, 100% 100%, 0% 98%); }

/* --- CLASSES --- */
.text-gold-foil { background: linear-gradient(to bottom, #bf953f, #fcf6ba, #b38728, #fbf5b7, #aa771c); -webkit-background-clip: text; background-clip: text; color: transparent; text-shadow: 0px 1px 1px rgba(0,0,0,0.3); }
.acid-glow { text-shadow: 0 0 10px rgba(204, 255, 0, 0.5); }
.border-glow { box-shadow: 0 0 15px rgba(204, 255, 0, 0.15); }
.ambient-gradient { background: linear-gradient(45deg, #1e1b4b, #312e81, #4c1d95, #581c87); background-size: 400% 400%; }

/* Terrain Grid */
.terrain-grid {
    background-image: linear-gradient(rgba(59, 130, 246, 0.4) 1px, transparent 1px),
                      linear-gradient(90deg, rgba(59, 130, 246, 0.4) 1px, transparent 1px);
    background-size: 40px 40px;
    width: 200%;
    height: 200%;
    position: absolute;
    top: -50%;
    left: -50%;
    transform: perspective(300px) rotateX(60deg);
    animation: terrain-scroll 2s linear infinite;
}

/* Glitch Text */
.glitch-text { position: relative; }
.glitch-text::before, .glitch-text::after { content: attr(data-text); position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: #000; }
.glitch-text::before { left: 2px; text-shadow: -1px 0 #ff00c1; clip: rect(44px, 450px, 56px, 0); animation: glitch-anim 5s infinite linear alternate-reverse; }
.glitch-text::after { left: -2px; text-shadow: -1px 0 #00fff9; clip: rect(44px, 450px, 56px, 0); animation: glitch-anim2 5s infinite linear alternate-reverse; }

.radar-poly { clip-path: polygon(50% 0%, 100% 38%, 82% 100%, 18% 100%, 0% 38%); }
.player-mask { mask-image: linear-gradient(to bottom, black 80%, transparent 100%); -webkit-mask-image: linear-gradient(to bottom, black 80%, transparent 100%); }
.bar { animation: equalize 1s infinite ease-in-out; }
.bar:nth-child(1) { animation-delay: 0.1s; animation-duration: 0.8s; }
.bar:nth-child(2) { animation-delay: 0.2s; animation-duration: 0.9s; }
.bar:nth-child(3) { animation-delay: 0.3s; animation-duration: 0.6s; }
.bar:nth-child(4) { animation-delay: 0.4s; animation-duration: 0.7s; }